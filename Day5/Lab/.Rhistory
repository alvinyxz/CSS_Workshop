# Script 1: Scrape GDP from Wikipedia
# ===================================
# Load packages
library(rvest)
library(dplyr)
library(ggplot2)
# Scrape the GDP table from Wikipedia
url <- "https://en.wikipedia.org/wiki/List_of_countries_by_GDP_(nominal)"
page <- read_html(url)
tables <- html_table(page, fill = TRUE)
# Find the table that contains the GDP data (usually the first or second)
gdp_table <- tables[[2]] %>%
select(Country = 1, GDP = 2) %>%
head(20) %>%
mutate(GDP = as.numeric(gsub("[,\$]", "", GDP))) %>%
tables
tables[[2]]
tables[[1]]
tables[[3]]
